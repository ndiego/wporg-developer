(()=>{"use strict";const e=window.wp.i18n;window.addEventListener("load",(()=>{const t=document.querySelector(".wp-block-wporg-chapter-list > ul");t&&(t.parentNode.classList.toggle("has-js-control"),t.querySelectorAll(".page_item_has_children").forEach((t=>{const s=t.querySelector(":scope > a");s.remove();const r=t.querySelector(":scope > ul"),n=document.createElement("button");n.setAttribute("aria-expanded",!1),// translators: %s link title.
n.setAttribute("aria-label",(0,e.sprintf)((0,e.__)("Open %s submenu","wporg"),s.innerText)),n.onclick=()=>{r.classList.toggle("is-open");const t=n.getAttribute("aria-expanded");n.setAttribute("aria-expanded","false"===t),"false"===t?n.setAttribute("aria-label",// translators: %s link title.
(0,e.sprintf)((0,e.__)("Close %s submenu","wporg"),s.innerText)):n.setAttribute("aria-label",// translators: %s link title.
(0,e.sprintf)((0,e.__)("Open %s submenu","wporg"),s.innerText))};const a=document.createElement("span");a.className="wporg-chapter-list--button-group",a.append(n,s),t.insertBefore(a,r),(t.classList.contains("current_page_item")||t.classList.contains("current_page_ancestor"))&&(r.classList.toggle("is-open"),n.setAttribute("aria-expanded",!0),n.setAttribute("aria-label",// translators: %s link title.
(0,e.sprintf)((0,e.__)("Close %s submenu","wporg"),s.innerText)))})))}))})();